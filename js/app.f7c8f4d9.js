(function(e){function t(t){for(var s,i,c=t[0],u=t[1],o=t[2],l=0,h=[];l<c.length;l++)i=c[l],a[i]&&h.push(a[i][0]),a[i]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);p&&p(t);while(h.length)h.shift()();return r.push.apply(r,o||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},a={app:0},r=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/chester-devs-pwa/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var o=0;o<c.length;o++)t(c[o]);var p=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var s=n("c21b"),a=n.n(s);a.a},1840:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[n("div",{staticClass:"navbar-brand"},[n("a",{staticClass:"navbar-item"},[n("img",{attrs:{src:"./favicon-96x96.png",alt:"Chester Devs",width:"36",height:"36"}})]),n("a",{class:["navbar-burger",e.menu?"is-active":""],attrs:{role:"button","aria-label":"menu","aria-expanded":"false"},on:{click:function(t){e.menu=!e.menu}}},[n("span",{attrs:{"aria-hidden":"true"}}),n("span",{attrs:{"aria-hidden":"true"}}),n("span",{attrs:{"aria-hidden":"true"}})])]),n("div",{class:["navbar-menu","has-text-centered",e.menu?"is-active":""]},[n("div",{staticClass:"navbar-item"},[n("button",{staticClass:"button is-primary",on:{click:e.sendPush}},[n("span",[e._v("Send Push")])])]),n("div",{staticClass:"navbar-item"},[n("button",{staticClass:"button",on:{click:e.syncPush}},[n("span",[e._v("Sync Push")])])])])]),n("div",{staticClass:"container"},[e.showNotification?n("div",{class:["notification",e.color]},[n("button",{staticClass:"delete",on:{click:function(t){e.showNotification=!1}}}),n("span",{domProps:{innerHTML:e._s(e.message)}})]):e._e(),e._m(0),n("MeetupList")],1)])},r=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"section has-text-centered"},[s("img",{staticClass:"image is-inline",attrs:{alt:"Chester Devs",src:n("cf05")}})])}],i=(n("96cf"),n("3040")),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"meetups"},[e.error?n("div",{staticClass:"dialog"},[e._v("\n    "+e._s(e.error)+"\n  ")]):e._e(),e._l(e.meetupsPage,function(e,t){return n("meetup",{key:t,attrs:{meetup:e}})}),n("div",{staticClass:"card"},[n("div",{staticClass:"card-content"},[n("nav",{staticClass:"pagination",attrs:{role:"navigation","aria-label":"pagination"}},[n("a",{staticClass:"pagination-previous",attrs:{disabled:1==e.page},on:{click:function(t){e.changePage(e.page-1)}}},[e._v("Previous")]),n("a",{staticClass:"pagination-next",attrs:{disabled:e.page==e.totalPages},on:{click:function(t){e.changePage(e.page+1)}}},[e._v("Next page")]),n("ul",{staticClass:"pagination-list"},e._l(e.totalPages,function(t){return n("li",{key:t},[n("a",{class:[e.page===t?"is-current":"","pagination-link"],on:{click:function(n){e.changePage(t)}}},[e._v(e._s(t))])])}))])])])],2)},u=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box"},[n("article",{staticClass:"media"},[n("div",{staticClass:"media-left"},[n("span",{class:["past"===e.meetup.status?"is-light":"is-primary","button"]},[e._v(e._s(e.meetup.status))])]),n("div",{staticClass:"media-content"},[n("div",{staticClass:"content"},[n("p",{staticClass:"title is-4"},[e._v(e._s(e.meetup.name))]),n("p",{staticClass:"subtitle is-6"},[e._v(e._s(e.meetup.localDate)+" "+e._s(e.meetup.localTime))])]),n("div",{staticClass:"content has-text-left",domProps:{innerHTML:e._s(e.meetup.description)}})])])])},p=[],l={name:"Meetup",props:{meetup:null}},h=l,f=(n("70e0"),n("2877")),d=Object(f["a"])(h,o,p,!1,null,"6aac0d00",null);d.options.__file="Meetup.vue";var v=d.exports,m=(n("55dd"),n("c665")),g=n("aa9a"),b=(n("b54a"),n("7f7f"),function e(t){var n=t.id,s=t.name,a=t.lat,r=t.lon,i=t.address_1,c=t.city,u=t.country,o=t.localized_country_name;Object(m["a"])(this,e),this.id=n,this.name=s,this.lat=a,this.lon=r,this.address=i,this.city=c,this.countryCode=u,this.country=o}),w=function e(t){var n=t.id,s=t.name,a=t.status,r=t.local_date,i=t.local_time,c=t.yes_rsvp_count,u=t.link,o=t.description,p=t.venue,l=t.time;Object(m["a"])(this,e),this.id=n,this.name=s,this.status=a,this.localDate=r,this.localTime=i,this.rsvpCount=c,this.link=u,this.description=o,this.venue=p?new b(p):null,this.timestamp=l},_=function(){function e(){Object(m["a"])(this,e),this.api="https://milesl-functions.azurewebsites.net/api/chester-devs-meetups"}return Object(g["a"])(e,[{key:"getMeetups",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.api,{method:"GET",mode:"cors"});case 2:if(t=e.sent,200!==t.status){e.next=11;break}return e.next=6,t.json();case 6:return n=e.sent,s=JSON.parse(n),e.abrupt("return",s.map(function(e){return new w(e)}).sort(function(e,t){return e.timestamp<t.timestamp?1:-1}));case 11:throw new Error("Unable to retrieve meetups.");case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),y=new _,x={name:"MeetupList",components:{Meetup:v},props:{},data:function(){return{meetups:[],page:1,pageSize:10,error:null}},methods:{changePage:function(e){e>=1&&e<=this.totalPages&&(this.page=e)}},computed:{meetupsPage:function(){return this.meetups.slice(this.pageStartIndex,this.pageEndIndex)},totalPages:function(){return Math.ceil(this.meetups.length/this.pageSize)},pageStartIndex:function(){return(this.page-1)*this.pageSize},pageEndIndex:function(){return(this.page-1)*this.pageSize+10}},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.getMeetups();case 3:this.meetups=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.error=e.t0.message;case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},k=x,C=(n("5e44"),Object(f["a"])(k,c,u,!1,null,"3a878603",null));C.options.__file="MeetupList.vue";var P=C.exports,O=function(){function e(){Object(m["a"])(this,e),this.api="https://milesl-functions.azurewebsites.net/api/chester-devs-push-message"}return Object(g["a"])(e,[{key:"sendPush",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.api,{method:"POST",mode:"cors"});case 2:if(t=e.sent,200!==t.status){e.next=7;break}return e.abrupt("return");case 7:throw new Error("Unable to send push.");case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"syncPush",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!("serviceWorker"in navigator&&"SyncManager"in window)){e.next=8;break}return e.next=4,navigator.serviceWorker.ready;case 4:t=e.sent,t.sync.register("sync-push"),e.next=9;break;case 8:this.sendPush();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),this.sendPush();case 14:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()}]),e}(),j=n("5118"),S=new O,M={name:"app",components:{MeetupList:P},data:function(){return{menu:!1,showNotification:!1,message:null,color:""}},methods:{sendPush:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.sendPush();case 3:this.pushSent("Your push message has been sent.","is-primary"),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.pushSent("Houston, we have a problem.....","is-error");case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),syncPush:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.syncPush();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),this.pushSent("Houston, we have a problem.....","is-error");case 8:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}(),pushSent:function(e,t){this.showNotification=!0,this.message=e,this.color=t,this.hideNotification()},hideNotification:function(){var e=this;Object(j["setTimeout"])(function(){e.showNotification=!1},3e3)}},mounted:function(){var e=this;if("BroadcastChannel"in window){var t=new BroadcastChannel("chester-devs");t.onmessage=function(){return e.pushSent("Your push message has been sent using push. From Boardcast Channel.")}}else navigator.serviceWorker.addEventListener("message",function(){return e.pushSent("Your push message has been sent using push. From Message Api.")})}},R=M,E=(n("034f"),Object(f["a"])(R,a,r,!1,null,null,null));E.options.__file="App.vue";var T=E.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(e){return e(T)}}).$mount("#app")},"5e44":function(e,t,n){"use strict";var s=n("1840"),a=n.n(s);a.a},"70e0":function(e,t,n){"use strict";var s=n("79df"),a=n.n(s);a.a},"79df":function(e,t,n){},c21b:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.febc56e9.png"}});
//# sourceMappingURL=app.f7c8f4d9.js.map